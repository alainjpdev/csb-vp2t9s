{"version":3,"sources":["components/Checkout.js","images/credit-card.svg","images/product-image.jpg","components/Success.js","components/Cancel.js","App.js","index.js"],"names":["stripePromise","Checkout","useState","stripeError","setStripeError","isLoading","setLoading","checkoutOptions","lineItems","price","quantity","mode","successUrl","window","location","origin","cancelUrl","redirectToCheckout","console","log","loadStripe","process","stripe","error","message","alert","className","src","ProductImage","alt","onClick","disabled","CardIcon","Success","Cancel","App","index","element","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"4JAQIA,E,oECRW,MAA0B,wCCA1B,MAA0B,0C,cF8E1BC,EA5DE,WACf,MAAsCC,mBAAS,MAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAgCF,oBAAS,GAAzC,mBAAOG,EAAP,KAAkBC,EAAlB,KAMMC,EAAkB,CACtBC,UAAW,CANA,CACXC,MAAO,iCACPC,SAAU,IAKVC,KAAM,UACNC,WAAW,GAAD,OAAKC,OAAOC,SAASC,OAArB,YACVC,UAAU,GAAD,OAAKH,OAAOC,SAASC,OAArB,YAGLE,EAAkB,iDAAG,yGACzBX,GAAW,GACXY,QAAQC,IAAI,sBAFa,SAtBtBnB,IACHA,EAAgBoB,YAAWC,gHAGtBrB,EAkBoB,cAInBsB,EAJmB,gBAKDA,EAAOL,mBAAmBV,GALzB,gBAKjBgB,EALiB,EAKjBA,MACRL,QAAQC,IAAI,wBAAyBI,GAEjCA,GAAOnB,EAAemB,EAAMC,SAChClB,GAAW,GATc,4CAAH,qDAcxB,OAFIH,GAAasB,MAAMtB,GAGrB,sBAAKuB,UAAU,WAAf,UACE,iDACA,mBAAGA,UAAU,iBAAb,4CACA,mBAAGA,UAAU,uBAAb,2DAGA,oBAAIA,UAAU,iBAAd,iBACA,qBACEA,UAAU,yBACVC,IAAKC,EACLC,IAAI,YAEN,yBACEH,UAAU,kBACVI,QAASb,EACTc,SAAU1B,EAHZ,UAKE,qBAAKqB,UAAU,cAAf,SACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKA,UAAU,OAAOC,IAAKK,EAAUH,IAAI,yBAG7C,qBAAKH,UAAU,iBAAf,SACE,mBAAGA,UAAU,OAAb,SAAqBrB,EAAY,aAAe,eAKzD,EGnEc4B,EATC,WACd,OACE,gCACE,yCACA,gEAGL,ECEcC,EATA,WACb,OACE,gCACE,wCACA,8DAGL,ECEc,SAASC,IACtB,OACE,qBAAKT,UAAU,MAAf,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOU,OAAK,EAACC,QAAS,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOC,KAAK,UAAUD,QAAS,cAAC,EAAD,MAC/B,cAAC,IAAD,CAAOC,KAAK,SAASD,QAAS,cAAC,EAAD,YAKvC,CChBD,IAAME,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAACR,EAAD,MAEFI,E","file":"static/js/main.18e66e6a.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nimport CardIcon from \"../images/credit-card.svg\";\nimport ProductImage from \"../images/product-image.jpg\";\n\nimport \"../styles.css\";\n\nlet stripePromise;\n\nconst getStripe = () => {\n  if (!stripePromise) {\n    stripePromise = loadStripe(process.env.REACT_APP_STRIPE_KEY);\n  }\n\n  return stripePromise;\n};\n\nconst Checkout = () => {\n  const [stripeError, setStripeError] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n  const item = {\n    price: \"price_1LhgOzADdbSN5fdpkMCQ4PaF\",\n    quantity: 1\n  };\n\n  const checkoutOptions = {\n    lineItems: [item],\n    mode: \"payment\",\n    successUrl: `${window.location.origin}/success`,\n    cancelUrl: `${window.location.origin}/cancel`\n  };\n\n  const redirectToCheckout = async () => {\n    setLoading(true);\n    console.log(\"redirectToCheckout\");\n\n    const stripe = await getStripe();\n    const { error } = await stripe.redirectToCheckout(checkoutOptions);\n    console.log(\"Stripe checkout error\", error);\n\n    if (error) setStripeError(error.message);\n    setLoading(false);\n  };\n\n  if (stripeError) alert(stripeError);\n\n  return (\n    <div className=\"checkout\">\n      <h1>Stripe Checkout</h1>\n      <p className=\"checkout-title\">Design+Code React Hooks Course</p>\n      <p className=\"checkout-description\">\n        Learn how to build a website with React Hooks\n      </p>\n      <h1 className=\"checkout-price\">$19</h1>\n      <img\n        className=\"checkout-product-image\"\n        src={ProductImage}\n        alt=\"Product\"\n      />\n      <button\n        className=\"checkout-button\"\n        onClick={redirectToCheckout}\n        disabled={isLoading}\n      >\n        <div className=\"grey-circle\">\n          <div className=\"purple-circle\">\n            <img className=\"icon\" src={CardIcon} alt=\"credit-card-icon\" />\n          </div>\n        </div>\n        <div className=\"text-container\">\n          <p className=\"text\">{isLoading ? \"Loading...\" : \"Buy\"}</p>\n        </div>\n      </button>\n    </div>\n  );\n};\n\nexport default Checkout;\n","export default __webpack_public_path__ + \"static/media/credit-card.85d5c2db.svg\";","export default __webpack_public_path__ + \"static/media/product-image.8fdd5bff.jpg\";","const Success = () => {\n  return (\n    <div>\n      <h1>Success</h1>\n      <h2>Thank you for your purchase!</h2>\n    </div>\n  );\n};\n\nexport default Success;\n","const Cancel = () => {\n  return (\n    <div>\n      <h1>Cancel</h1>\n      <h2>Your payment was canceled.</h2>\n    </div>\n  );\n};\n\nexport default Cancel;\n","import \"@stripe/stripe-js\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\n\nimport Checkout from \"./components/Checkout\";\nimport Success from \"./components/Success\";\nimport Cancel from \"./components/Cancel\";\n\nimport \"./styles.css\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Routes>\n          <Route index element={<Checkout />} />\n          <Route path=\"success\" element={<Success />} />\n          <Route path=\"cancel\" element={<Cancel />} />\n        </Routes>\n      </Router>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}